{% extends "base.html" %}
{% block content %}
<div id="occ-detail-content" class="container">

  <div class="page-header">
    <h1>Occurrence <small>detail</small></h1>
  </div>

  <div class="alert alert-success">
    <h4>Access rights - {{ rec.meta.orgname }}</h4>
    {{ rec.meta.emlrights }}
  </div>

  <ul id="myTab" class="nav nav-tabs">
    <li class="active"><a href="#search-table" data-toggle="tab">Darwin Core</a></li>
    <li><a href="#summary-tab" data-toggle="tab">Data source</a></li>
  </ul>

  <div id="myTabContent" class="tab-content">

  <div class="tab-pane fade" id="summary-tab"> 
      <h1>{{ rec.meta.orgname }}</h1>
      <p>This occurrence was published by the {{ rec.meta.orgname }} on {{ rec.meta.pubdate }} in the <a href="{{ rec.meta.url }}">{{ rec.meta.title }} resource</a>.</p>
      </div>

      <div class="tab-pane fade in active" id="search-table"> 

        <div class="tabbable tabs-left">
          <ul class="nav nav-tabs">
            {%- if rec.loc %}
            <li class="active"><a href="#location-tab" data-toggle="tab">Location</a></li>
            {%- endif %}

            {%- if rec.reclevel %}
            <li class=""><a href="#reclevel-tab" data-toggle="tab">RecordLevel</a></li>
            {%- endif %}

            {%- if rec.occ %}
            <li class=""><a href="#occ-tab" data-toggle="tab">Occurrence</a></li>
            {%- endif %}

            {%- if rec.event %}
            <li class=""><a href="#event-tab" data-toggle="tab">Event</a></li>
            {%- endif %}

            {%- if rec.geo %}
            <li class=""><a href="#geo-tab" data-toggle="tab">GeologicalContext</a></li>
            {%- endif %}

            {%- if rec.id %}
            <li class=""><a href="#id-tab" data-toggle="tab">Identification</a></li>
            {%- endif %}

            {%- if rec.taxon %}
            <li class=""><a href="#taxon-tab" data-toggle="tab">Taxon</a></li>
            {%- endif %}
          </ul>

          <div class="tab-content">

            <!-- Location tab.  -->
            <div class="tab-pane active" id="location-tab">
              <div id="occ-detail-map" class="occ-detail-map">
                <div id="map"></div>
              </div>
               <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.loc.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>

            <!-- Record level tab. -->
            <div class="tab-pane" id="reclevel-tab">
              <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.reclevel.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>

            <!-- Occurrence tab.  -->
            <div class="tab-pane" id="occ-tab">
               <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.occ.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>

            <!-- Event tab.  -->
            <div class="tab-pane" id="event-tab">
               <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.event.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>

            <!-- GeoContext tab.  -->
            <div class="tab-pane" id="geo-tab">
               <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.geo.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>

            {%- if rec.id %}
            <!-- Identification tab.  -->
            <div class="tab-pane" id="id-tab">
               <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.id.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>
            {%- endif %}

            <!-- Taxon tab.  -->
            <div class="tab-pane" id="taxon-tab">
               <table class="table table-striped table-hover search-results-hover">
                <thead>
                  <tr>
                    <th>Term</th>
                    <th>Value</th>
                  </tr>
                </thead>
                <tbody>
                  {%- for key, value in rec.taxon.items() recursive %}   
                  <tr>
                    <td>{{key}}</td>
                    <td id={{key}}>{{value}}</td>
                  </tr>
                  {%- endfor %}
                </tbody>
              </table> 
            </div>
          </div>
        </div>
      </div>
</div>
{% endblock %}