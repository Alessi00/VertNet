application: vertnet-portal
version: wip
runtime: python27
threadsafe: true
api_version: 1


# includes:
# - mapreduce/include.yaml

libraries:
- name: jinja2
  version: "latest"
- name: webapp2
  version: "2.5.1"

handlers:

# DEV

- url: /js/lib/*.
  static_dir: www/lib

- url: /js
  static_dir: www/js

- url: /css
  static_dir: www/css

- url: /fonts
  static_dir: www/fonts

- url: /img
  static_dir: www/img

# PROD

# - url: /js/lib/*.
#   static_dir: www-builtjs/lib

# - url: /js
#   static_dir: www-built/js

# - url: /css
#   static_dir: www-built/css

# - url: /fonts
#   static_dir: www-built/fonts

# - url: /img
#   static_dir: www-built/img

# services

- url: /service/download.*
  script: vertnet.service.download.api

- url: /apitracker.*
  script: vertnet.service.tracker.api

- url: /service/rpc/record.*
  script: vertnet.service.record.rpc

- url: /service/organization.*
  script: vertnet.service.organization.rpc

- url: /api/search.*
  script: vertnet.api.search.handler

- url: /api/organization.*
  script: vertnet.api.organization.rpc

- url: /api/stats.*
  script: vertnet.api.stats.rpc

# - url: /mapreduce(/.*)?
#   script: mapreduce/main.py
#   login: admin

- url: /.*
  script: app.handler
